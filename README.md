# Система управления заказами

Веб-приложение для управления заказами с возможностью создания, редактирования и отслеживания статуса заказов.

## Возможности

- Регистрация и авторизация пользователей
- Создание и управление заказами
- Отслеживание статуса заказов
- Email-уведомления
- Тёмная/светлая тема
- Отчёты по отменённым товарам

## Установка

1. Клонируйте репозиторий:
```bash
git clone https://github.com/ваш-username/order_management.git
cd order_management
```

2. Создайте виртуальное окружение и активируйте его:
```bash
python -m venv venv
# Windows:
venv\Scripts\activate
# Linux/Mac:
source venv/bin/activate
```

3. Установите зависимости:
```bash
pip install -r requirements.txt
```

4. Создайте файл .env на основе .env.example:
```bash
cp .env.example .env
```

5. Отредактируйте .env и укажите ваши настройки:
- SECRET_KEY - секретный ключ для Flask
- MAIL_USERNAME - ваш Gmail
- MAIL_PASSWORD - пароль приложения Gmail

## Запуск

1. Активируйте виртуальное окружение (если ещё не активировано)

2. Запустите приложение:
```bash
python app.py
```

3. Откройте в браузере: http://127.0.0.1:5000

## Разработка

### Структура проекта
```
order_management/
├── app.py              # Основной файл приложения
├── models.py           # Модели данных
├── database.py         # Конфигурация базы данных
├── templates/          # HTML шаблоны
├── static/            # Статические файлы (CSS, JS)
├── requirements.txt   # Зависимости проекта
└── README.md         # Документация
```

### Тестирование
```bash
pytest -v
```

## Лицензия

MIT License. См. файл LICENSE для деталей.

## Быстрый старт

1. Дважды щелкните по файлу `start_app.bat`
2. Браузер откроется автоматически с адресом http://127.0.0.1:5000
3. Зарегистрируйтесь в системе или войдите в существующий аккаунт

## Настройка email-уведомлений

1. Откройте файл `.env`
2. Замените следующие параметры:
   - `MAIL_USERNAME` - ваш Gmail адрес
   - `MAIL_PASSWORD` - пароль приложения Gmail
   - `SECRET_KEY` - любой случайный длинный текст

## Новые функции

### Оптимизация производительности
- **Кэширование данных**: Система теперь использует кэширование для ускорения загрузки часто используемых данных
- **Контекстные менеджеры**: Улучшена работа с базой данных через контекстные менеджеры
- **Type hints**: Добавлены аннотации типов для улучшения читаемости кода

### API и документация
- **OpenAPI документация**: Доступна по адресу http://127.0.0.1:5000/api/docs
- **Swagger UI**: Интерактивная документация API с возможностью тестирования

### Тестирование
- **Модульные тесты**: Добавлены тесты для проверки основной функциональности
- **Запуск тестов**: `pytest -v` или `python -m pytest -v`

## Возможные проблемы

1. Если приложение не запускается:
   - Убедитесь, что порт 5000 не занят другими приложениями
   - Проверьте, что Python и все зависимости установлены корректно
   - Проверьте настройки брандмауэра

2. Если не работают email-уведомления:
   - Проверьте настройки в файле `.env`
   - Убедитесь, что у вас настроен доступ к Gmail через пароль приложения

## Поддержка

При возникновении проблем обратитесь к системному администратору или разработчику. 